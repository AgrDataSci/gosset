<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Variable selection with Permuted Inclusion Criterion — btpermute • gosset</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Variable selection with Permuted Inclusion Criterion — btpermute"><meta property="og:description" content="Method of forward variable selection based on deviance for Bradley-Terry
 models using pairwise ranking data. The selection procedure consists of two steps, 
 first, permuting the variables from the original predictors with 
 n.iteractions, then performing a forward selection to retain the
 predictors with highest contribution to the model, see details."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gosset</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Overview.html">Trait prioritization and crop performance with decentralized on-farm trial data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/agrdatasci/gosset/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Variable selection with Permuted Inclusion Criterion</h1>
    <small class="dont-index">Source: <a href="https://github.com/agrdatasci/gosset/blob/HEAD/R/btpermute.R" class="external-link"><code>R/btpermute.R</code></a></small>
    <div class="hidden name"><code>btpermute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Method of forward variable selection based on deviance for Bradley-Terry
 models using pairwise ranking data. The selection procedure consists of two steps, 
 first, permuting the variables from the original <code>predictors</code> with 
 <code>n.iteractions</code>, then performing a forward selection to retain the
 <code>predictors</code> with highest contribution to the model, see details.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">btpermute</span><span class="op">(</span></span>
<span>  contests <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predictors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n.iterations <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>contests</dt>
<dd><p>a data frame with pairwise binary contests with these variables
'id','player1','player2','win1','win2'; in that order. The id should be equivalent 
to the index of each row in <code>predictors</code></p></dd>


<dt>predictors</dt>
<dd><p>a data frame with player-specific variables with row indices that 
should match with the ids in <code>contests</code>. An id is not required, only the 
predictor variables, the ids are the index for each row</p></dd>


<dt>n.iterations</dt>
<dd><p>integer, number of iterations to compute</p></dd>


<dt>seed</dt>
<dd><p>integer, the seed for random number generation. If NULL (the default), 
<span class="pkg">gosset</span> will set the seed randomly</p></dd>


<dt>...</dt>
<dd><p>additional arguments passed to <span class="pkg">BradleyTerry2</span> methods</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>an object of class <code>gosset_btpermute</code> with the final <code><a href="https://rdrr.io/pkg/BradleyTerry2/man/BTm.html" class="external-link">BTm()</a></code> model,
selected variables, seeds (random numbers) used for permutations and deviances</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The selection procedure consists of two steps. In the first step, <code>btpermute</code> 
 adds to the set of original (candidate) <code>predictors</code> variables
 an additional set of 'fake', permuted variables. This set of permuted 
 <code>predictors</code> is created 
 by assigning to each ranking the variables from another, randomly selected 
 ranking. The permuted variables are not expected to have any predictive 
 power for pairwise rankings. In the second step, <code>btpermute</code> adds 
 predictors to the Bradley-Terry model in a forward selection procedure. 
 Each <code>predictors</code> (real and permuted) is added to the null model 
 individually, and <code>btpermute</code> retains which variable reduces model 
 deviance most strongly. The two-step process is replicated <code>n</code> times 
 with argument <code>n.iterations</code>. At each iteration, a new random permutation 
 is generated and all variables are tested. Replicability can be controlled 
 using argument <code>seed</code>. Across the n <code>n.iterations</code>, the function 
 identifies the predictor that appeared most often as the most deviance-reducing 
 one. When this is a real variable, it is constantly added to the model and 
 the forward selection procedure moves on – again creating new permutations, 
 adding real and fake variables individually, and examining model deviance. 
 Variable selection stops when a permuted variable is found to be most 
 frequently the most deviance-reducing <code>predictors</code> across <code>n.iterations</code>. 
 In turn, variable selection continuous as long as any real variable has stronger 
 explanatory power for pairwise rankings than the random variables.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Lysen, S. (2009) Permuted inclusion criterion: A variable selection technique. 
University of Pennsylvania
<a href="https://repository.upenn.edu/edissertations/28/" class="external-link">https://repository.upenn.edu/edissertations/28/</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>rank_binomial</code>, <code><a href="https://rdrr.io/pkg/BradleyTerry2/man/BTm.html" class="external-link">BTm</a></code></p>
<p>Other model selection functions: 
<code><a href="crossvalidation.html">crossvalidation</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Jonathan Steinke and Kauê de Sousa</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/hturner/BradleyTerry2" class="external-link">"BradleyTerry2"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"kenyachoice"</span>, package <span class="op">=</span> <span class="st">"gosset"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">btpermute</span><span class="op">(</span>contests <span class="op">=</span> <span class="va">kenyachoice</span><span class="op">$</span><span class="va">contests</span>,</span></span>
<span class="r-in"><span>                 predictors <span class="op">=</span> <span class="va">kenyachoice</span><span class="op">$</span><span class="va">predictors</span>,</span></span>
<span class="r-in"><span>                 n.iterations <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>                 seed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kauê de Sousa, Jacob van Etten, David Brown, Jonathan Steinke.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

