<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Variable selection with Permuted Inclusion Criterion — btpermute • gosset</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Variable selection with Permuted Inclusion Criterion — btpermute" />
<meta property="og:description" content="Permutation method to select variables for pair comparison data with 
 Bradley-Terry model. This procedure consists of two steps. In the first 
 step, btpermute adds to the set of original predictors an 
 additional set of 'fake' variables generated by randomly permuting the 
 original predictors. Permuted predictors are not expected to 
 have any predictive power for pairwise rankings. In the second step, 
 btpermute adds predictors to the Bradley-Terry model. Each 
 predictors (real and permuted) is added to a null model separately
 and retained if the variable reduces the model deviance most strongly. 
 This process is replicated n times with argument n.iterations, 
 each time with a new random permutation that can be controlled for 
 replicability using argument seed. Across the n n.iterations
 the function identifies the predictor that appeared most often as the most
 deviance-reducing one. When this has a real variable, it is added to the 
 model. Variable selection stops when a permuted variable(s) is found to be 
 the most frequent most deviance-reducing predictors." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gosset</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Overview.html">Trait prioritization and crop performance with decentralized on-farm data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/agrdatasci/gosset/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Variable selection with Permuted Inclusion Criterion</h1>
    <small class="dont-index">Source: <a href='https://github.com/agrdatasci/gosset/blob/master/R/btpermute.R'><code>R/btpermute.R</code></a></small>
    <div class="hidden name"><code>btpermute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Permutation method to select variables for pair comparison data with 
 Bradley-Terry model. This procedure consists of two steps. In the first 
 step, <code>btpermute</code> adds to the set of original <code>predictors</code> an 
 additional set of 'fake' variables generated by randomly permuting the 
 original <code>predictors</code>. Permuted <code>predictors</code> are not expected to 
 have any predictive power for pairwise rankings. In the second step, 
 <code>btpermute</code> adds predictors to the Bradley-Terry model. Each 
 <code>predictors</code> (real and permuted) is added to a null model separately
 and retained if the variable reduces the model deviance most strongly. 
 This process is replicated <code>n</code> times with argument <code>n.iterations</code>, 
 each time with a new random permutation that can be controlled for 
 replicability using argument <code>seed</code>. Across the n <code>n.iterations</code>
 the function identifies the predictor that appeared most often as the most
 deviance-reducing one. When this has a real variable, it is added to the 
 model. Variable selection stops when a permuted variable(s) is found to be 
 the most frequent most deviance-reducing <code>predictors</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>btpermute</span><span class='op'>(</span>
  contests <span class='op'>=</span> <span class='cn'>NULL</span>,
  predictors <span class='op'>=</span> <span class='cn'>NULL</span>,
  n.iterations <span class='op'>=</span> <span class='fl'>15</span>,
  seed <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>contests</th>
      <td><p>a data frame with pairwise binary contests with these variables
'id','player1','player2','win1','win2'; in that order. The id should match with 
those found in <code>predictors</code></p></td>
    </tr>
    <tr>
      <th>predictors</th>
      <td><p>a data frame with player predictors with an id 
that should match with <code>contests</code></p></td>
    </tr>
    <tr>
      <th>n.iterations</th>
      <td><p>integer, number of iterations to compute</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>integer, the seed for random number generation. If NULL (the default), 
<span class="pkg">gosset</span> will set the seed randomly</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to <span class="pkg">BradleyTerry2</span> methods</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of class <code>gosset_btpermute</code> with the final <code><a href='https://rdrr.io/pkg/BradleyTerry2/man/BTm.html'>BTm()</a></code> model,
selected variables, seeds (random numbers) used for permutations and deviances</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Lysen, S. (2009) Permuted inclusion criterion: A variable selection technique. 
University of Pennsylvania
<a href='https://repository.upenn.edu/edissertations/28/'>https://repository.upenn.edu/edissertations/28/</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='rank_binomial.html'>rank_binomial</a></code>, <code><a href='https://rdrr.io/pkg/BradleyTerry2/man/BTm.html'>BTm</a></code></p>
<p>Other model selection functions: 
<code><a href='crossvalidation.html'>crossvalidation</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Jonathan Steinke and Kauê de Sousa</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># \donttest{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/hturner/BradleyTerry2'>"BradleyTerry2"</a></span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"kenyachoice"</span>, package <span class='op'>=</span> <span class='st'>"gosset"</span><span class='op'>)</span>

<span class='va'>mod</span> <span class='op'>&lt;-</span> <span class='fu'>btpermute</span><span class='op'>(</span>contests <span class='op'>=</span> <span class='va'>kenyachoice</span><span class='op'>$</span><span class='va'>contests</span>,
                 predictors <span class='op'>=</span> <span class='va'>kenyachoice</span><span class='op'>$</span><span class='va'>predictors</span>,
                 n.iterations <span class='op'>=</span> <span class='fl'>10</span>,
                 seed <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='va'>mod</span>
<span class='co'># }</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kauê de Sousa, Jacob van Etten, David Brown, Jonathan Steinke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


